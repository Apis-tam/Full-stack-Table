(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[717],{1631:(e,s,r)=>{"use strict";r.d(s,{$:()=>t});let t={url:r(9509).env.NEXT_PUBLIC_API_URL||""}},7457:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var t=r(5155),n=r(7017),o=r(6715),a=r(5041),l=r(2115),u=r(1631);let i=async e=>{try{return(await fetch("".concat(u.$.url,"/auth/create"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(e){throw console.error(e),Error(e.message)}},c=async e=>{try{return(await fetch("".concat(u.$.url,"/auth"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(e){throw console.error(e),Error(e.message)}};var d=r(8999);let m=()=>{let{formAction:e,requeredFields:s,setActiveTab:r,activeTab:n}=(()=>{let e=(0,d.useRouter)(),[s,r]=(0,l.useState)("signin"),[t,n]=(0,l.useState)({userName:!0,email:!0,password:!0}),o=(0,a.n)({mutationFn:function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return i(...s)},onSuccess:e=>{localStorage.setItem("accessToken",e.data.accessToken)}}),u=(0,a.n)({mutationFn:function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return c(...s)},onSuccess:s=>{localStorage.setItem("accessToken",s.data.accessToken),"success"===s.status&&e.push("/")}}),[m,b,p]=(0,l.useActionState)((e,r)=>{var t,a,l;let i={userName:null==(t=r.get("userName"))?void 0:t.toString(),email:null==(a=r.get("email"))?void 0:a.toString(),password:null==(l=r.get("password"))?void 0:l.toString()};return n(i),"signin"===s&&i.email&&i.password&&u.mutate({email:i.email,password:i.password}),i.email&&i.password&&i.userName&&o.mutate({email:i.email,password:i.password,userName:i.userName}),e},{email:"",password:"",userName:""});return{state:m,formAction:b,isPending:p,requeredFields:t,setActiveTab:r,activeTab:s}})(),o=e=>{r(e)};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center relative bg-gray-100",children:(0,t.jsxs)("div",{className:"bg-black p-8 rounded-lg shadow-lg w-full max-w-md absolute top-40",children:[(0,t.jsxs)("div",{className:"flex mb-6",children:[(0,t.jsx)("button",{className:"flex-1 py-2 text-center text-lg font-semibold border-b-2 ".concat("signin"===n?" border-blue-500 text-blue-500":"text-gray-500"," hover:border-blue-300"),onClick:()=>o("signin"),children:"Sign In"}),(0,t.jsx)("button",{className:"flex-1 py-2 border-b-2 text-center text-lg font-semibold ".concat("signup"===n?" border-blue-500 text-blue-500":"text-gray-500"," hover:border-blue-300"),onClick:()=>o("signup"),children:"Sign Up"})]}),(0,t.jsxs)("form",{action:e,children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:"signup"===n?"Sign up":"Sign In"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsx)("input",{autoComplete:"email",name:"email",type:"email",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ".concat(!(null==s?void 0:s.email)&&" border-red-600"),placeholder:"Enter your email"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,t.jsx)("input",{autoComplete:"current-password",name:"password",type:"password",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ".concat(!(null==s?void 0:s.password)&&" border-red-600"),placeholder:"Enter your password"})]}),"signup"===n&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,t.jsx)("input",{autoComplete:"username",name:"userName",type:"text",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ".concat(!(null==s?void 0:s.userName)&&" border-red-600"),placeholder:"Enter your username"})]}),(0,t.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"signup"===n?"Sign Up":"Sign In"})]})]})]})})};function b(){let e=new n.E;return(0,t.jsx)(o.Ht,{client:e,children:(0,t.jsx)(m,{})})}},7550:(e,s,r)=>{Promise.resolve().then(r.bind(r,7457))}},e=>{e.O(0,[355,441,964,358],()=>e(e.s=7550)),_N_E=e.O()}]);